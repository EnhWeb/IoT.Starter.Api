# API

## ASP.NET Core Web API for Raspberry Pi

Starting from a Swagger API definition, an ASP.NET Core  Web API is automatically generated by Swagger Hub. The code is pushed to github and upgraded to ASP.NET Core 2.0. 

A multi-stage docker image is created and built at a speedy Windows x64 machine that generates code for the linux-arm framework. The image is pushed to the cloud and then pulled back into the Raspberry Pi, with Raspbian 9.1 stretch installed.


#### Model:

- Restlet generates API and exports swagger.json  
- Swagger Hub imports file and generates server stub  

#### x64 machine:

- Install Docker
- Adapts server stub into docker repo: io.swagger  
- Compiles at x64 machine for linux-arm framework  
- **Docker push to cloud:** josemottalopes/io.swagger  

#### Raspberry Pi (hostname "pi")

- Raspbian GNU/Linux 9.1 (stretch) 
- Install Docker  
- **Docker run:** josemottalopes/io.swagger  

#### Tests
 
- Go back to x64 machine
- Access pi-server-stub via browser  
- http://pi:5000/swagger/ui/index.html 